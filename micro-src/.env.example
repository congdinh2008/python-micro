# ==============================================================================
# Python Microservices E-Commerce Platform
# Environment Configuration Template
# ==============================================================================
# 
# IMPORTANT: 
# - Copy this file to .env: cp .env.example .env
# - Update values for your environment
# - Never commit .env file to version control
# - For production, use strong passwords and secret keys
#
# ==============================================================================

# ==============================================================================
# ENVIRONMENT
# ==============================================================================
ENVIRONMENT=development
VERSION=latest

# ==============================================================================
# DATABASE CONFIGURATION
# ==============================================================================

# User Service Database
USER_DB_USER=user
USER_DB_PASSWORD=password
USER_DB_NAME=user_service_db
USER_DB_PORT=5433

# Product Service Database
PRODUCT_DB_USER=user
PRODUCT_DB_PASSWORD=password
PRODUCT_DB_NAME=product_service_db
PRODUCT_DB_PORT=5434

# Order Service Database
ORDER_DB_USER=user
ORDER_DB_PASSWORD=password
ORDER_DB_NAME=order_service_db
ORDER_DB_PORT=5435

# ==============================================================================
# CACHE & MESSAGE BROKER
# ==============================================================================

# Redis Configuration
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_INTERNAL_PORT=6379
REDIS_TTL=300

# RabbitMQ Configuration
RABBITMQ_HOST=rabbitmq
RABBITMQ_PORT=5672
RABBITMQ_INTERNAL_PORT=5672
RABBITMQ_MGMT_PORT=15672
RABBITMQ_USER=guest
RABBITMQ_PASSWORD=guest

# ==============================================================================
# APPLICATION SERVICES
# ==============================================================================

# User Service
USER_SERVICE_PORT=8001
USER_SERVICE_URL=http://user-service:8001
USER_SERVICE_SECRET_KEY=your-secret-key-change-this-in-production-min-32-characters-required
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Product Service
PRODUCT_SERVICE_PORT=8002
PRODUCT_SERVICE_URL=http://product-service:8002

# Order Service
ORDER_SERVICE_PORT=8003
ORDER_SERVICE_URL=http://order-service:8003

# Notification Service
NOTIFICATION_SERVICE_PORT=8004

# ==============================================================================
# CORS CONFIGURATION
# ==============================================================================
# Development: Use "*" to allow all origins
# Production: Specify exact origins, comma-separated
# Example: ALLOWED_ORIGINS=https://myapp.com,https://www.myapp.com
ALLOWED_ORIGINS=*

# ==============================================================================
# OBSERVABILITY STACK
# ==============================================================================

# Prometheus
PROMETHEUS_PORT=9090
PROMETHEUS_RETENTION=7d

# Loki
LOKI_PORT=3100

# Grafana
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin
GRAFANA_ROOT_URL=http://localhost:3000
GRAFANA_LOG_LEVEL=info

# Jaeger
JAEGER_UI_PORT=16686
JAEGER_STORAGE_TYPE=memory
JAEGER_MAX_TRACES=10000

# Redis Exporter
REDIS_EXPORTER_PORT=9121

# OpenTelemetry
OTEL_ENDPOINT=http://jaeger:4317

# ==============================================================================
# PRODUCTION CONFIGURATION NOTES
# ==============================================================================
# 
# For production deployment, update the following:
#
# 1. ENVIRONMENT=production
# 2. Generate strong SECRET_KEY (min 32 characters):
#    openssl rand -hex 32
# 3. Use strong database passwords
# 4. Set specific CORS origins (remove wildcard)
# 5. Use managed database services (AWS RDS, Azure Database)
# 6. Use managed Redis (AWS ElastiCache, Azure Cache for Redis)
# 7. Use managed RabbitMQ (CloudAMQP, AWS MQ)
# 8. Change default Grafana credentials
# 9. Set up SSL/TLS certificates
# 10. Configure proper log retention
#
# ==============================================================================
